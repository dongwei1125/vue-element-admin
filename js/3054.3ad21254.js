"use strict";(self["webpackChunkvue_element_admin"]=self["webpackChunkvue_element_admin"]||[]).push([[3054],{53054:function(s,t,i){i.r(t),i.d(t,{default:function(){return f}});var e=function(){var s=this,t=s._self._c;return t("div",{staticClass:"login"},[t("el-form",{ref:"form",staticClass:"login-form",attrs:{model:s.form,rules:s.rules}},[t("div",{staticClass:"title"},[t("h3",[s._v(s._s(s.$t("login.title")))]),t("language")],1),t("el-form-item",{attrs:{prop:"username"}},[t("span",{staticClass:"icon"},[t("svg-icon",{attrs:{"icon-class":"user"}})],1),t("el-input",{attrs:{placeholder:s.$t("login.username")},model:{value:s.form.username,callback:function(t){s.$set(s.form,"username","string"===typeof t?t.trim():t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticClass:"icon"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),t("el-input",{ref:"password",attrs:{type:s.passwordType,placeholder:s.$t("login.password")},model:{value:s.form.password,callback:function(t){s.$set(s.form,"password",t)},expression:"form.password"}}),t("span",{staticClass:"eye-icon",on:{click:s.toggle}},[t("svg-icon",{attrs:{"icon-class":"password"===s.passwordType?"eye-close":"eye-open"}})],1)],1),t("el-button",{staticClass:"login-btn",attrs:{type:"primary",loading:s.loading},on:{click:s.login}},[s._v(" "+s._s(s.$t("login.login"))+" ")]),t("div",{staticClass:"login-extra"},[t("thirdparty-login")],1)],1)],1)},a=[],r=(i(44114),i(26402)),o=function(){var s=this,t=s._self._c;return t("div",{staticClass:"thirdparty-login"},[t("el-button",{attrs:{type:"primary"},on:{click:s.handleLogin}},[s._v(s._s(s.$t("login.thirdparty")))]),t("el-dialog",{attrs:{title:s.$t("login.thirdparty"),"append-to-body":"",visible:s.visible,"custom-class":"thirdparty-login-dialog"},on:{"update:visible":function(t){s.visible=t}}},[t("div",{staticClass:"button"},[t("div",{staticClass:"wechat-icon"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"wechat"}})],1),t("span",[s._v("WeChat")])]),t("div",{staticClass:"button"},[t("div",{staticClass:"qq-icon"},[t("svg-icon",{staticClass:"icon",attrs:{"icon-class":"qq"}})],1),t("span",[s._v("QQ")])])])],1)},n=[],l={name:"ThirdpartyLogin",data(){return{visible:!1}},methods:{handleLogin(){this.visible=!0}}},c=l,d=i(81656),p=(0,d.A)(c,o,n,!1,null,"a1ea99f0",null),u=p.exports,g={name:"Login",components:{Language:r.A,ThirdpartyLogin:u},data(){return{form:{username:"admin",password:"123456"},passwordType:"password",loading:!1}},computed:{redirect(){return this.$route.query.redirect},rules(){return{username:[{required:!0,message:this.$t("login.inputUsername"),trigger:"blur"}],password:[{required:!0,message:this.$t("login.inputPassword"),trigger:"blur"},{min:6,message:this.$t("login.passwordMinLength"),trigger:"blur"}]}}},methods:{toggle(){this.passwordType="password"===this.passwordType?"":"password",this.$nextTick(()=>{this.$refs.password?.focus()})},login(){this.$refs.form.validate(s=>{s&&(this.loading=!0,this.$store.dispatch("user/login",this.form).then(()=>{this.$router.push({path:this.redirect||"/"})}).finally(()=>{this.loading=!1}))})}}},m=g,h=(0,d.A)(m,e,a,!1,null,"4f46922a",null),f=h.exports}}]);