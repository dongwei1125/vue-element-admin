"use strict";(self["webpackChunkvue_element_admin"]=self["webpackChunkvue_element_admin"]||[]).push([[8136],{8136:function(e,s,i){i.r(s),i.d(s,{default:function(){return _}});var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"directive-permission"},[s("switch-roles",{on:{change:e.change}}),s("div",{key:e.key,staticClass:"content"},[s("div",{staticClass:"item"},[s("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}]},[e._v(" "+e._s(e.$t("permissionPage.only"))+" "),s("el-tag",{attrs:{size:"small"}},[e._v("admin")]),e._v(" "+e._s(e.$t("permissionPage.see"))+" ")],1),s("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],attrs:{type:"info"}},[e._v("v-permission=\"['admin']\"")])],1),s("div",{staticClass:"item"},[s("span",{directives:[{name:"permission",rawName:"v-permission",value:["user"],expression:"['user']"}]},[e._v(" "+e._s(e.$t("permissionPage.only"))+" "),s("el-tag",{attrs:{size:"small"}},[e._v("user")]),e._v(" "+e._s(e.$t("permissionPage.see"))+" ")],1),s("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["user"],expression:"['user']"}],attrs:{type:"info"}},[e._v("v-permission=\"['user']\"")])],1),s("div",{staticClass:"item"},[s("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin","user"],expression:"['admin', 'user']"}]},[e._v(" "+e._s(e.$t("permissionPage.both"))+" "),s("el-tag",{attrs:{size:"small"}},[e._v("admin")]),e._v(" "+e._s(e.$t("permissionPage.and"))+" "),s("el-tag",{attrs:{size:"small"}},[e._v("user")]),e._v(" "+e._s(e.$t("permissionPage.see"))+" ")],1),s("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin","user"],expression:"['admin', 'user']"}],attrs:{type:"info"}},[e._v("v-permission=\"['admin', 'user']\"")])],1)]),s("p",{staticClass:"tips"},[e._v(" "+e._s(e.$t("permissionPage.tips"))+" "),s("br"),e._v(" "+e._s(e.$t("permissionPage.eg"))+" ")]),s("el-tabs",{attrs:{type:"border-card"}},[e.hasPermission(["admin"])?s("el-tab-pane",{attrs:{label:"Admin"}},[e._v(" admin "+e._s(e.$t("permissionPage.see"))+" "),s("el-tag",{attrs:{type:"info"}},[e._v("v-if=\"hasPermission(['admin'])\"")])],1):e._e(),e.hasPermission(["user"])?s("el-tab-pane",{attrs:{label:"User"}},[e._v(" user "+e._s(e.$t("permissionPage.see"))+" "),s("el-tag",{attrs:{type:"info"}},[e._v("v-if=\"hasPermission(['user'])\"")])],1):e._e(),e.hasPermission(["admin","user"])?s("el-tab-pane",{attrs:{label:"Admin / User"}},[e._v(" "+e._s(e.$t("permissionPage.both"))+" admin "+e._s(e.$t("permissionPage.and"))+" user "+e._s(e.$t("permissionPage.see"))+" "),s("el-tag",{attrs:{type:"info"}},[e._v("v-if=\"hasPermission(['admin', 'user'])\"")])],1):e._e()],1)],1)},r=[],a=(i(18111),i(13579),i(23674));function n(e){if(!Array.isArray(e))return!1;if(!e.length)return!0;const s=a.A.getters.roles,i=s.some(s=>e.includes(s));return i}function o(e,s){const i=s.value;n(i)||e.parentNode&&e.parentNode.removeChild(e)}var m={inserted(e,s){o(e,s)},update(e,s){o(e,s)}},l=i(95464),p={name:"DirectivePermission",directives:{permission:m},components:{SwitchRoles:l.A},data(){return{key:1}},methods:{hasPermission:n,change(){this.key++}}},v=p,u=i(81656),d=(0,u.A)(v,t,r,!1,null,"091ddaff",null),_=d.exports},95464:function(e,s,i){i.d(s,{A:function(){return l}});var t=function(){var e=this,s=e._self._c;return s("div",[s("p",[e._v(e._s(e.$t("permissionPage.roles"))+e._s(e.role))]),s("span",[e._v(e._s(e.$t("permissionPage.switch")))]),s("el-radio-group",{model:{value:e.role,callback:function(s){e.role=s},expression:"role"}},[s("el-radio-button",{attrs:{label:"admin"}}),s("el-radio-button",{attrs:{label:"user"}})],1)],1)},r=[],a={name:"SwitchRoles",computed:{roles(){return this.$store.getters.roles},role:{get(){const[e]=this.roles;return e},set(e){this.$store.dispatch("user/updateRoles",[e]).then(()=>{this.$emit("change")})}}}},n=a,o=i(81656),m=(0,o.A)(n,t,r,!1,null,null,null),l=m.exports}}]);